<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдВрджреНрд░ рд╕реНрдорд╛рд░реНрдЯ рд╕реЗрд╡рд╛ рдкреЛрд░реНрдЯрд▓</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#f2f5f9;color:#222;text-align:center;}
.header{position:fixed;top:0;left:0;width:100%;display:flex;justify-content:space-between;padding:10px;box-sizing:border-box;z-index:1000;}
.keybtn{width:10px;height:10px;border-radius:50%;border:1px solid #999;background:#f4f4f4;font-size:18px;cursor:pointer;opacity:0.02;pointer-events:none;}
.box{max-width:420px;margin:80px auto 0 auto;background:white;padding:22px;border-radius:16px;box-shadow:0 8px 25px rgba(0,0,0,0.12);}
h1{font-size:20px;margin-bottom:10px;}
#clock{font-size:18px;font-weight:bold;margin-top:8px;}
#todayDate,#todayFull{margin-top:6px;font-size:15px;}
.status-wrap{display:flex;align-items:center;justify-content:center;gap:10px;}
#status{margin-top:18px;padding:18px;font-size:24px;font-weight:bold;border-radius:14px;}
.open{background:#d7f5e5;color:#0f9d58;border:2px solid #0f9d58;}
.closed{background:#ffe3e3;color:#d93025;border:2px solid #d93025;}
footer{margin-top:18px;font-size:12px;color:#555;}
.speakbtn{width:48px;height:48px;border-radius:8px;border:1px solid #999;background:#ededed;font-size:22px;cursor:pointer;}
</style>
</head>
<body>

<div class="header">
    <button id="btnOpen" class="keybtn">ЁЯЧЭя╕П</button>
    <button id="btnClose" class="keybtn">ЁЯФР</button>
</div>

<div class="box">
<h1>рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдиреНрджреНрд░ рдбрд┐рдЬрд┐рдЯрд▓ рд╕реЗрд╡рд╛ рд╕реВрдЪрдирд╛ рдкреЛрд░реНрдЯрд▓</h1>
<div id="clock"></div>
<div id="todayDate"></div>
<div id="todayFull"></div>
<div class="status-wrap">
  <div id="status" class="closed">ЁЯФ┤ рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдиреНрджреНрд░ рдЕрднреА рдмрдВрдж рд╣реИ</div>
  <button id="btnSpeak" class="speakbtn">ЁЯФК</button>
</div>
<footer>рд╕рдордп рд╕рд╛рд░рдгреА рдЖрдзрд╛рд░рд┐рдд рд╕реНрдорд╛рд░реНрдЯ рд╕рд┐рд╕реНрдЯрдо тАв рдзрдиреНрдпрд╡рд╛рдж</footer>
</div>

<script>
function getKolkataTime(){ return new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})); }

function updateClock(){
 let d=getKolkataTime();
 let hr=d.getHours()%12; if(hr===0) hr=12;
 let min=d.getMinutes(); let sec=d.getSeconds();
 document.getElementById("clock").innerHTML="рд╡рд░реНрддрдорд╛рди рд╕рдордп: "+ hr.toString().padStart(2,'0')+":"+ min.toString().padStart(2,'0')+":"+ sec.toString().padStart(2,'0');
}
setInterval(updateClock,1000); updateClock();

function showDate(){
 let d=getKolkataTime();
 const months=["рдЬрдирд╡рд░реА","рдлрд░рд╡рд░реА","рдорд╛рд░реНрдЪ","рдЕрдкреНрд░реИрд▓","рдордИ","рдЬреВрди","рдЬреБрд▓рд╛рдИ","рдЕрдЧрд╕реНрдд","рд╕рд┐рддрдВрдмрд░","рдЕрдХреНрдЯреВрдмрд░","рдирд╡рдВрдмрд░","рджрд┐рд╕рдВрдмрд░"];
 const days=["рд░рд╡рд┐рд╡рд╛рд░","рд╕реЛрдорд╡рд╛рд░","рдордВрдЧрд▓рд╡рд╛рд░","рдмреБрдзрд╡рд╛рд░","рдЧреБрд░реБрд╡рд╛рд░","рд╢реБрдХреНрд░рд╡рд╛рд░","рд╢рдирд┐рд╡рд╛рд░"];
 document.getElementById("todayDate").innerHTML=d.getDate().toString().padStart(2,'0')+"/"+
 (d.getMonth()+1).toString().padStart(2,'0')+"/"+d.getFullYear();
 document.getElementById("todayFull").innerHTML="рдЖрдЬ рд╣реИ: "+d.getDate()+" "+months[d.getMonth()]+" "+d.getFullYear()+" рджрд┐рди "+days[d.getDay()];
}
showDate();

let manual="none";

function updateStatus(){
 let d=getKolkataTime();
 let month=d.getMonth()+1;
 let totalMinutes=d.getHours()*60 + d.getMinutes();
 let openTime=0, closeTime=0;
 if(month>=10 || month<=3){ openTime=15*60+30; closeTime=17*60+30; }
 else if(month>=4 && month<=6){ openTime=16*60+30; closeTime=18*60+30; }
 else{ openTime=15*60+30; closeTime=17*60+30; }

 let waitingPeriod=30;
 let inWaiting=false;
 if(totalMinutes > closeTime && totalMinutes <= closeTime+waitingPeriod){ inWaiting=true; }

 let final="c";
 if(manual==="close"){ final="c"; }
 else if(totalMinutes>=openTime && totalMinutes<=closeTime){ final="o"; }
 else if(inWaiting){ final="o"; } // рд╡реЗрдЯрд┐рдВрдЧ рдореЗрдВ рдЦреБрд▓рд╛ рджрд┐рдЦрд╛рдирд╛
 else if(manual==="open"){ final="o"; }

 applyStatus(final);
}

function applyStatus(x){
 let e=document.getElementById("status");
 if(x==="o"){ e.className="open"; e.innerHTML="ЁЯЯв рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдиреНрджреНрд░ рдЕрднреА рдЦреБрд▓рд╛ рд╣реИ"; }
 else{ e.className="closed"; e.innerHTML="ЁЯФ┤ рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдиреНрджреНрд░ рдЕрднреА рдмрдВрдж рд╣реИ"; }
}

setInterval(updateStatus,10000);
updateStatus();

function bol(text){
 let msg=new SpeechSynthesisUtterance();
 msg.text=text;
 msg.lang="hi-IN";
 msg.rate=0.9;
 speechSynthesis.cancel();
 speechSynthesis.speak(msg);
}

document.getElementById("btnSpeak").onclick=function(){
 let statusText=document.getElementById("status").innerText.replace("ЁЯЯв","").replace("ЁЯФ┤","").trim();
 let todayText=document.getElementById("todayFull").innerText.replace(":", "").replace("рджрд┐рди", ", рджрд┐рди");
 let d=getKolkataTime();
 let hr=d.getHours(); let min=d.getMinutes();
 let totalMinutes=hr*60+min;

 let period="";
 if(hr>=5 && hr<12) period="рд╕реБрдмрд╣";
 else if(hr>=12 && hr<16) period="рджреЛрдкрд╣рд░";
 else if(hr>=16 && hr<20) period="рд╢рд╛рдо";
 else period="рд░рд╛рдд";
 let hr12=hr%12; if(hr12===0) hr12=12;
 let timeText="рд╕рдордп рд╣реИ "+period+" "+hr12+":"+min.toString().padStart(2,'0');

 let month=d.getMonth()+1;
 let openTime=0, closeTime=0;
 if(month>=10 || month<=3){ openTime=15*60+30; closeTime=17*60+30; }
 else if(month>=4 && month<=6){ openTime=16*60+30; closeTime=18*60+30; }
 else{ openTime=15*60+30; closeTime=17*60+30; }

 let waitingPeriod=30;
 let nextEventText="";

 if(totalMinutes < openTime){
   // рдЖрдЬ рдЦреБрд▓рдиреЗ рд╡рд╛рд▓рд╛
   let hrNext=Math.floor(openTime/60)%12; if(hrNext===0) hrNext=12;
   let minNext=openTime%60;
   let periodNext="";
   if(openTime>=5*60 && openTime<12*60) periodNext="рд╕реБрдмрд╣";
   else if(openTime>=12*60 && openTime<16*60) periodNext="рджреЛрдкрд╣рд░";
   else if(openTime>=16*60 && openTime<20*60) periodNext="рд╢рд╛рдо";
   else periodNext="рд░рд╛рдд";
   nextEventText="рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдиреНрджреНрд░ рдЖрдЬ "+periodNext+" "+hrNext+":"+minNext.toString().padStart(2,'0')+" рдмрдЬреЗ рдЦреБрд▓реЗрдЧрд╛ред "+
   "рд╡реЗрдЯрд┐рдВрдЧ рдкреАрд░рд┐рдпрдб 30 рдорд┐рдирдЯ рдХреА рд░рд╣ рд╕рдХрддреА рд╣реИред рдХреЗрдиреНрджреНрд░ рдЦреБрд▓рдиреЗ рдкрд░ рд╣реА рд╡реЗрдЯрд┐рдВрдЧ рдкреАрд░рд┐рдпрдб рд▓рд╛рдЧреВ рд╣реИ рдпрд╛ рдирд╣реАрдВ рдХреА рдЬрд╛рдирдХрд╛рд░реА рджреА рдЬрд╛ рд╕рдХрддреА рд╣реИред";
 }
 else if(totalMinutes>closeTime+waitingPeriod){
   // рдЕрдЧрд▓рд╛ рджрд┐рди рдЦреБрд▓рдиреЗ рд╡рд╛рд▓рд╛
   let hrNext=Math.floor(openTime/60)%12; if(hrNext===0) hrNext=12;
   let minNext=openTime%60;
   let periodNext="";
   if(openTime>=5*60 && openTime<12*60) periodNext="рд╕реБрдмрд╣";
   else if(openTime>=12*60 && openTime<16*60) periodNext="рджреЛрдкрд╣рд░";
   else if(openTime>=16*60 && openTime<20*60) periodNext="рд╢рд╛рдо";
   else periodNext="рд░рд╛рдд";
   nextEventText="рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдиреНрджреНрд░ рдЕрдм рдмрдВрдж рд╣реИред рдпрд╣ рдХрд▓ "+periodNext+" "+hrNext+":"+minNext.toString().padStart(2,'0')+" рдмрдЬреЗ рдЦреБрд▓реЗрдЧрд╛ред "+
   "рд╡реЗрдЯрд┐рдВрдЧ рдкреАрд░рд┐рдпрдб 30 рдорд┐рдирдЯ рдХреА рд░рд╣ рд╕рдХрддреА рд╣реИред рдХреЗрдиреНрджреНрд░ рдЦреБрд▓рдиреЗ рдкрд░ рд╣реА рд╡реЗрдЯрд┐рдВрдЧ рдкреАрд░рд┐рдпрдб рд▓рд╛рдЧреВ рд╣реИ рдпрд╛ рдирд╣реАрдВ рдХреА рдЬрд╛рдирдХрд╛рд░реА рджреА рдЬрд╛ рд╕рдХрддреА рд╣реИред";
 }
 else if(totalMinutes>closeTime && totalMinutes<=closeTime+waitingPeriod){
   // рд╡реЗрдЯрд┐рдВрдЧ рдкреАрд░рд┐рдпрдб
   let hrClose=Math.floor(closeTime/60)%12; if(hrClose===0) hrClose=12;
   let minClose=closeTime%60;
   let hrWait=Math.floor((closeTime+waitingPeriod)/60)%12; if(hrWait===0) hrWait=12;
   let minWait=(closeTime+waitingPeriod)%60;
   let periodClose="";
   if(closeTime>=5*60 && closeTime<12*60) periodClose="рд╕реБрдмрд╣";
   else if(closeTime>=12*60 && closeTime<16*60) periodClose="рджреЛрдкрд╣рд░";
   else if(closeTime>=16*60 && closeTime<20*60) periodClose="рд╢рд╛рдо";
   else periodClose="рд░рд╛рдд";

   nextEventText="рдХреЗрдиреНрджреНрд░ рдЕрднреА рд╡реЗрдЯрд┐рдВрдЧ рдкреАрд░рд┐рдпрдб рдореЗрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реИред "+
                 "рдХреЗрдиреНрджреНрд░ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рддреМрд░ рдкрд░ "+periodClose+" "+hrClose+":"+minClose.toString().padStart(2,'0')+" рдмрдЬреЗ рдмрдВрдж рд╣реЛрдЧрд╛ред "+
                 "рдпрджрд┐ рдХреЛрдИ "+hrClose+":"+minClose.toString().padStart(2,'0')+" рддрдХ рдкрд╣реБрдБрдЪрддреЗ рд╣реИрдВ, рддреЛ рдХреЗрдиреНрджреНрд░ "+hrWait+":"+minWait.toString().padStart(2,'0')+" рддрдХ рд╕реЗрд╡рд╛ рдЬрд╛рд░реА рд░рдЦреЗрдЧрд╛ред";
 }
 else{
   // рдЕрднреА рдЦреБрд▓рд╛ рд╣реИ
   let hrClose=Math.floor(closeTime/60)%12; if(hrClose===0) hrClose=12;
   let minClose=closeTime%60;
   let hrWait=Math.floor((closeTime+waitingPeriod)/60)%12; if(hrWait===0) hrWait=12;
   let minWait=(closeTime+waitingPeriod)%60;
   let periodClose="";
   if(closeTime>=5*60 && closeTime<12*60) periodClose="рд╕реБрдмрд╣";
   else if(closeTime>=12*60 && closeTime<16*60) periodClose="рджреЛрдкрд╣рд░";
   else if(closeTime>=16*60 && closeTime<20*60) periodClose="рд╢рд╛рдо";
   else periodClose="рд░рд╛рдд";

   nextEventText="рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдиреНрджреНрд░ рдЕрднреА рдЦреБрд▓рд╛ рд╣реИред рдХреЗрдиреНрджреНрд░ рдЖрдЬ "+periodClose+" "+hrClose+":"+minClose.toString().padStart(2,'0')+" рдмрдЬреЗ рдмрдВрдж рд╣реЛ рд╕рдХрддрд╛ рд╣реИред "+
                 "рд╡реЗрдЯрд┐рдВрдЧ рдкреАрд░рд┐рдпрдб 30 рдорд┐рдирдЯ рдХреА рд░рд╣ рд╕рдХрддреА рд╣реИред рдЕрдЧрд░ рдХреЛрдИ "+hrClose+":"+minClose.toString().padStart(2,'0')+" рддрдХ рдкрд╣реБрдБрдЪрддреЗ рд╣реИрдВ рддреЛ рдХреЗрдиреНрджреНрд░ "+hrWait+":"+minWait.toString().padStart(2,'0')+" рддрдХ рд╕реЗрд╡рд╛ рдЬрд╛рд░реА рд░рдЦреЗрдЧрд╛ред";
 }

 bol(statusText+"ред "+todayText+"ред "+timeText+"ред "+nextEventText);
};

document.getElementById("btnOpen").onclick=function(){ manual="open"; updateStatus(); };
document.getElementById("btnClose").onclick=function(){ manual="close"; updateStatus(); };
document.getElementById("status").ondblclick=function(){ manual="none"; updateStatus(); alert("рдЕрдм рдпреЗ рдкреНрд░рдЬреНрдЮрд╛ рдХреЗрдиреНрджреНрд░ рдХреЗрд╡рд▓ рд╕рдордп рд╕рд╛рд░рдгреА рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЪрд▓реЗрдЧрд╛"); };
</script>
</body>
</html>
