
<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§™‡•ç‡§∞‡§ú‡•ç‡§û‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§∏‡•á‡§µ‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</title>

<!-- rabbit was proud of speed -->
<!-- turtle believed in discipline -->
<!-- forest learned that balance is powerful -->
<!-- owl understood priority -->
<!-- rabbit finally respected the timetable -->

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#f2f5f9;
    color:#222;
    text-align:center;
    padding-top:30px;
}

.box{
    max-width:420px;
    margin:auto;
    background:white;
    padding:22px;
    border-radius:16px;
    box-shadow:0 8px 25px rgba(0,0,0,0.12);
}

h1{font-size:20px;margin-bottom:10px;}

#clock{font-size:18px;font-weight:bold;margin-top:8px;}
#todayDate,#todayFull{margin-top:6px;font-size:15px;}

.status-wrap{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
}

#status{
    margin-top:18px;
    padding:18px;
    font-size:24px;
    font-weight:bold;
    border-radius:14px;
}

.open{
    background:#d7f5e5;
    color:#0f9d58;
    border:2px solid #0f9d58;
}

.closed{
    background:#ffe3e3;
    color:#d93025;
    border:2px solid #d93025;
}

footer{margin-top:18px;font-size:12px;color:#555;}

.keybtn{
    position:fixed;
    width:28px;height:28px;padding:18px;
    border-radius:50%;
    border:1px solid #999;
    background:#f4f4f4;
    font-size:20px;
    cursor:pointer;
    opacity:0.01;
}

#btnOpen{left:6px;bottom:6px;}
#btnClose{right:6px;bottom:6px;}

.speakbtn{
    width:48px;height:48px;border-radius:8px;
    border:1px solid #999;background:#ededed;
    font-size:22px;cursor:pointer;
}
</style>
</head>

<body>

<div class="box">
<h1>üôè ‡§™‡•ç‡§∞‡§ú‡•ç‡§û‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡•á‡§µ‡§æ ‡§∏‡•Ç‡§ö‡§®‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</h1>

<div id="clock"></div>
<div id="todayDate"></div>
<div id="todayFull"></div>

<div class="status-wrap">
  <div id="status" class="closed">üî¥ ‡§™‡•ç‡§∞‡§ú‡•ç‡§û‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§Ö‡§≠‡•Ä ‡§¨‡§Ç‡§¶ ‡§π‡•à</div>
  <button id="btnSpeak" class="speakbtn">üîä</button>
</div>

<footer>‡§∏‡§Æ‡§Ø ‡§∏‡§æ‡§∞‡§£‡•Ä ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‚Ä¢ ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶</footer>
</div>

<button id="btnOpen" class="keybtn">üóùÔ∏è</button>
<button id="btnClose" class="keybtn">üîê</button>

<script>

/* turtle believed in discipline */
/* rabbit loved shortcuts */
/* owl knew priority decides truth */

function getKolkataTime(){
    return new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"}));
}

const hindiNum=["‡§∂‡•Ç‡§®‡•ç‡§Ø","‡§è‡§ï","‡§¶‡•ã","‡§§‡•Ä‡§®","‡§ö‡§æ‡§∞","‡§™‡§æ‡§Å‡§ö","‡§õ‡§π","‡§∏‡§æ‡§§","‡§Ü‡§†","‡§®‡•å",
"‡§¶‡§∏","‡§ó‡•ç‡§Ø‡§æ‡§∞‡§π","‡§¨‡§æ‡§∞‡§π","‡§§‡•á‡§∞‡§π","‡§ö‡•å‡§¶‡§π","‡§™‡§Ç‡§¶‡•ç‡§∞‡§π","‡§∏‡•ã‡§≤‡§π","‡§∏‡§§‡•ç‡§∞‡§π","‡§Ö‡§†‡§æ‡§∞‡§π","‡§â‡§®‡•ç‡§®‡•Ä‡§∏",
"‡§¨‡•Ä‡§∏","‡§á‡§ï‡•ç‡§ï‡•Ä‡§∏","‡§¨‡§æ‡§à‡§∏","‡§§‡•á‡§á‡§∏","‡§ö‡•å‡§¨‡•Ä‡§∏","‡§™‡§ö‡•ç‡§ö‡•Ä‡§∏","‡§õ‡§¨‡•ç‡§¨‡•Ä‡§∏","‡§∏‡§§‡•ç‡§§‡§æ‡§à‡§∏","‡§Ö‡§ü‡•ç‡§†‡§æ‡§à‡§∏","‡§â‡§®‡§§‡•Ä‡§∏",
"‡§§‡•Ä‡§∏","‡§á‡§ï‡§§‡•Ä‡§∏","‡§¨‡§§‡•ç‡§§‡•Ä‡§∏","‡§§‡•à‡§Ç‡§§‡•Ä‡§∏","‡§ö‡•å‡§Ç‡§§‡•Ä‡§∏","‡§™‡•à‡§Ç‡§§‡•Ä‡§∏","‡§õ‡§§‡•ç‡§§‡•Ä‡§∏","‡§∏‡•à‡§Ç‡§§‡•Ä‡§∏","‡§Ö‡§°‡§º‡§§‡•Ä‡§∏","‡§â‡§®‡§§‡§æ‡§≤‡•Ä‡§∏",
"‡§ö‡§æ‡§≤‡•Ä‡§∏","‡§á‡§ï‡§§‡§æ‡§≤‡•Ä‡§∏","‡§¨‡§Ø‡§æ‡§≤‡•Ä‡§∏","‡§§‡•à‡§Ç‡§§‡§æ‡§≤‡•Ä‡§∏","‡§ö‡§µ‡§æ‡§≤‡•Ä‡§∏","‡§™‡•à‡§Ç‡§§‡§æ‡§≤‡•Ä‡§∏","‡§õ‡§ø‡§Ø‡§æ‡§≤‡•Ä‡§∏","‡§∏‡•à‡§Ç‡§§‡§æ‡§≤‡•Ä‡§∏","‡§Ö‡§°‡§º‡§§‡§æ‡§≤‡•Ä‡§∏","‡§â‡§®‡§ö‡§æ‡§∏",
"‡§™‡§ö‡§æ‡§∏","‡§á‡§ï‡•ç‡§Ø‡§æ‡§µ‡§®","‡§¨‡§æ‡§µ‡§®","‡§§‡§ø‡§∞‡•á‡§™‡§®","‡§ö‡•å‡§µ‡§®","‡§™‡§ö‡§™‡§®","‡§õ‡§™‡•ç‡§™‡§®","‡§∏‡§§‡•ç‡§§‡§æ‡§µ‡§®","‡§Ö‡§ü‡•ç‡§†‡§æ‡§µ‡§®","‡§â‡§®‡§∏‡§†"];

function numberToHindi(n){ return hindiNum[n]; }

function updateClock(){
 let d=getKolkataTime();
 let hr=d.getHours()%12;
 if(hr==0) hr=12;
 let min=d.getMinutes();
 let sec=d.getSeconds();

 document.getElementById("clock").innerHTML=
 "‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§∏‡§Æ‡§Ø: "+
 hr.toString().padStart(2,'0')+":"+
 min.toString().padStart(2,'0')+":"+
 sec.toString().padStart(2,'0');
}
setInterval(updateClock,1000);
updateClock();

function showDate(){
 let d=getKolkataTime();
 const months=["‡§ú‡§®‡§µ‡§∞‡•Ä","‡§´‡§∞‡§µ‡§∞‡•Ä","‡§Æ‡§æ‡§∞‡•ç‡§ö","‡§Ö‡§™‡•ç‡§∞‡•à‡§≤","‡§Æ‡§à","‡§ú‡•Ç‡§®","‡§ú‡•Å‡§≤‡§æ‡§à","‡§Ö‡§ó‡§∏‡•ç‡§§","‡§∏‡§ø‡§§‡§Ç‡§¨‡§∞","‡§Ö‡§ï‡•ç‡§ü‡•Ç‡§¨‡§∞","‡§®‡§µ‡§Ç‡§¨‡§∞","‡§¶‡§ø‡§∏‡§Ç‡§¨‡§∞"];
 const days=["‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞","‡§∏‡•ã‡§Æ‡§µ‡§æ‡§∞","‡§Æ‡§Ç‡§ó‡§≤‡§µ‡§æ‡§∞","‡§¨‡•Å‡§ß‡§µ‡§æ‡§∞","‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞","‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞","‡§∂‡§®‡§ø‡§µ‡§æ‡§∞"];

 document.getElementById("todayDate").innerHTML=
 d.getDate().toString().padStart(2,'0')+"/"+
 (d.getMonth()+1).toString().padStart(2,'0')+"/"+
 d.getFullYear();

 document.getElementById("todayFull").innerHTML=
 "‡§Ü‡§ú ‡§π‡•à: "+d.getDate()+" "+months[d.getMonth()]+" "+d.getFullYear()+" ‡§¶‡§ø‡§® "+days[d.getDay()];
}
showDate();

let manual = localStorage.getItem("pk_manual") || "none";

function setManual(val){
 manual=val;
 localStorage.setItem("pk_manual",val);
 updateStatus();
}

function updateStatus(){

 let d=getKolkataTime();
 let month=d.getMonth()+1;
 let hr=d.getHours();
 let min=d.getMinutes();
 let total=hr*60+min;

 let openTime=0,closeTime=0;

 if(month>=10 || month<=3){
   openTime=15*60+30;
   closeTime=17*60+30;
 }
 else if(month>=4 && month<=6){
   openTime=16*60+30;
   closeTime=18*60+30;
 }
 else{
   openTime=15*60+30;
   closeTime=17*60+30;
 }

 let timetableOpen=(total>=openTime && total<=closeTime);
 let final="c";

 if(manual==="close"){
   final="c";
 }
 else if(timetableOpen){
   final="o";
 }
 else if(manual==="open"){
   final="o";
 }

 applyStatus(final);
}

function applyStatus(x){
 let e=document.getElementById("status");
 if(x==="o"){
   e.className="open";
   e.innerHTML="üü¢ ‡§™‡•ç‡§∞‡§ú‡•ç‡§û‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§Ö‡§≠‡•Ä ‡§ñ‡•Å‡§≤‡§æ ‡§π‡•à";
 }else{
   e.className="closed";
   e.innerHTML="üî¥ ‡§™‡•ç‡§∞‡§ú‡•ç‡§û‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§Ö‡§≠‡•Ä ‡§¨‡§Ç‡§¶ ‡§π‡•à";
 }
}

setInterval(updateStatus,60000);
updateStatus();

function bol(text){
 let msg=new SpeechSynthesisUtterance();
 msg.text=text;
 msg.lang="hi-IN";
 msg.rate=0.9;
 speechSynthesis.cancel();
 speechSynthesis.speak(msg);
}

document.getElementById("btnSpeak").onclick=function(){

 let d=getKolkataTime();
 let hr=d.getHours();
 let min=d.getMinutes();
 let displayHr=hr%12; if(displayHr==0) displayHr=12;

 const days=["‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞","‡§∏‡•ã‡§Æ‡§µ‡§æ‡§∞","‡§Æ‡§Ç‡§ó‡§≤‡§µ‡§æ‡§∞","‡§¨‡•Å‡§ß‡§µ‡§æ‡§∞","‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞","‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞","‡§∂‡§®‡§ø‡§µ‡§æ‡§∞"];

 let period="";
 if(hr>=4 && hr<12){period="‡§∏‡•Å‡§¨‡§π";}
 else if(hr>=12 && hr<16){period="‡§¶‡•ã‡§™‡§π‡§∞";}
 else if(hr>=16 && hr<20){period="‡§∂‡§æ‡§Æ";}
 else{period="‡§∞‡§æ‡§§";}

 let statusText=document.getElementById("status").innerText.replace("üü¢","").replace("üî¥","");

 let timeText="";
 if(min===0){
   timeText=numberToHindi(displayHr)+" ‡§¨‡§ú‡•á";
 }else{
   timeText=numberToHindi(displayHr)+" ‡§¨‡§ú‡§ï‡§∞ "+numberToHindi(min)+" ‡§Æ‡§ø‡§®‡§ü";
 }

 let speakText=statusText+"‡•§ ‡§¶‡§ø‡§® "+days[d.getDay()]+"‡•§ "+period+" "+timeText+"‡•§";
 bol(speakText);
};

document.getElementById("btnOpen").onclick=function(){ setManual("open"); };
document.getElementById("btnClose").onclick=function(){ setManual("close"); };

document.getElementById("status").ondblclick=function(){
 setManual("none");
 alert("‡§Ö‡§¨ ‡§ï‡•á‡§µ‡§≤ ‡§∏‡§Æ‡§Ø ‡§∏‡§æ‡§∞‡§£‡•Ä ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§ö‡§≤‡•á‡§ó‡§æ");
};

</script>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDD6N1aT3WfqAytVwxPQLA615lTyH76RoM",
    authDomain: "shopragyan-csc.firebaseapp.com",
    databaseURL: "https://shopragyan-csc-default-rtdb.firebaseio.com",
    projectId: "shopragyan-csc",
    storageBucket: "shopragyan-csc.firebasestorage.app",
    messagingSenderId: "965532459847",
    appId: "1:965532459847:web:3b2b71b816c6e3f3166262",
    measurementId: "G-BT4N2TY9MT"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
    
</body>
</html>
